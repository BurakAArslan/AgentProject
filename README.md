# AgentProject  
## SMART TRANSPORTATION & TRAFFIC OPTIMIZATION SYSTEM  
### ReAct + Multi-RAG + Live API Integration

---

## Project Overview

This project aims to develop a **ReAct (Reasoning + Acting)** based artificial intelligence agent that integrates **traffic safety**, **traffic regulations**, and **live traffic data** within the scope of **smart transportation systems**.

The system combines:

- PDF-based information retrieval (RAG)
- Live traffic APIs (TomTom)
- Mathematical reasoning
- Tool-forced decision-making mechanisms

to provide an architecture that guarantees the use of the **correct tool for the correct type of question**.

---

## Project Objectives

- Prevent hallucinations in traffic-related questions  
- Automatically switch to live APIs when static knowledge is insufficient  
- Orchestrate RAG, API, and Math tools in a controlled manner  
- Make the **Thought → Action → Observation** reasoning chain fully traceable  
- Produce measurable success rates for benchmark and demo queries  

---


---

### ReAct Reasoning Workflow

**THOUGHT**  
The model’s reasoning and decision rationale  

**ACTION**  
The selected tool (RAG / API / Math)  

**OBSERVATION**  
Raw output returned by the tool  

**FINAL ANSWER**  
A justified and verified response  

---

### Multi-RAG Structure

The system stores multiple PDF-based knowledge sources in **separate vector spaces**:

**SAFETY**  
Safe Driving Techniques documents  

**REGULATION**  
Highway Traffic Regulation  
Turkish Highway Traffic Law No. 2918  

**SIGNS**  
Traffic Signs Handbook  

> **Note**  
> The RAG tool does **not generate answers**; it only retrieves **raw contextual information**.  
> All final answers are generated by the agent itself.

---

### Integrated API Tools

**Live Traffic API (TomTom)**

- Area-based real-time traffic congestion  
- Traffic flow and congestion percentage  
- Flow Segment Data usage  

**Example:**  
> *"What is the current traffic congestion in the Esenyurt area?"*  
→ **live_traffic_api is mandatory**

---

### Mathematics Tool (Math Tool)

- Secure mathematical evaluation  
- “Half of the speed in meters” rule  
- **No unit conversion is applied**

---

### Technologies Used

- Python 3  
- Groq LLM API  
- *llama-3.3-70b-versatile*  
- TomTom Traffic & Routing API  
- TF-IDF-based In-Memory Vector Store  
- ReAct Agent Orchestration  
- PDF Processing: *pypdf*  

---

### Benchmark System

Benchmarks evaluate whether the system uses the **correct tool** for each question type.

**Benchmark Categories**

- **A)** Solvable using RAG only  
- **B)** RAG + Math (Multi-hop reasoning)  
- **C)** RAG insufficient → Live API required  

**Measured Metrics**

- Was an answer successfully produced (`ok`)  
- Were the expected tools actually used  
- Average number of reasoning steps  
- Tool accuracy rate (%)  

---

### Demo & Single-Query Evaluation

The benchmark logic is also applied to **demo queries**.

For each demo question:

- Expected tools are inferred automatically  
- Used tools are compared against expectations  
- PASS / FAIL status is calculated  

**Example Output**


## System Architecture

### ReAct Workflow

```text
THOUGHT
→ ACTION
→ OBSERVATION
→ FINAL ANSWER
